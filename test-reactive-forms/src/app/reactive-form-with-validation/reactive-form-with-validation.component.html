<form [formGroup]='testForm' novalidate>
  <div class="panel panel-primary">
    <div class="panel-heading">
      <app-edit-on-click 
        [initialValue]="name"
        [inputFormGroup]="nameGroup"
        [inputFormControl]="nameFormControl"></app-edit-on-click>
    </div>
    <div class="panel-body">
  <div formGroupName="contactMethod"
  class="form-group"
  [ngClass]= "{'has-error':(testForm.get('contactMethod').touched || testForm.get('contactMethod').dirty)
  && testForm.get('contactMethod').errors}">
    <div class="form-group">
        <label for="emailInput">Email: </label>
        <input class="form-control" 
        id="emailInput" formControlName="email"/>  
        <span *ngIf="(testForm.get('contactMethod').touched || testForm.get('contactMethod').dirty)
         && testForm.get('contactMethod').errors">
          You must provide either email or phone
        </span>
      </div>
    <div class="form-group">
        <label for="phoneInput">Phone: </label>
        <input id="phoneInput" class="form-control" formControlName="phone"/>  
        <span *ngIf="(testForm.get('contactMethod').touched || testForm.get('contactMethod').dirty) && testForm.get('contactMethod').errors">
          You must provide either email or phone
        </span>
    </div>
  </div>
</div>
</div>
<button (click)="save()" [disabled]="!testForm.dirty || !testForm.valid">Save changes</button>
<br>{{testForm.value | json}}
<br>Dirty: {{testForm.dirty}}
<br>Valid: {{testForm.valid}}
</form>